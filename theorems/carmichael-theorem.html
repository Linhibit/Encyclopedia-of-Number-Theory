<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å¡è¿ˆå…‹å°”å®šç† - æ•°è®ºç™¾ç§‘</title>
    <link rel="stylesheet" href="../style.css">
    
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            }
        };
    </script>
    
    <script 
        id="MathJax-script" 
        async 
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
</head>

<body>
    <div class="article-container" 
         style="max-width: 800px; 
                margin: 40px auto; 
                padding: 20px;">
        
        <nav>
            <a href="../index.html" class="back-home" aria-label="è¿”å›é¦–é¡µ">
                <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
                </svg>
                è¿”å›é¦–é¡µ
            </a>
        </nav>
        
        <header>
            <h1>å¡è¿ˆå…‹å°”å®šç† (Carmichael's Theorem)</h1>
        </header>

        <section class="theorem-box" 
                 style="border-left: 5px solid #d32f2f; 
                        background: #fff8f8; 
                        padding: 20px; 
                        margin: 20px 0;">
            
            <strong>å¡è¿ˆå…‹å°”å‡½æ•° $\lambda(n)$ çš„å®šä¹‰ï¼š</strong>
            <p>
                å¯¹äºæ­£æ•´æ•° $n$ï¼Œ<strong>å¡è¿ˆå…‹å°”å‡½æ•°</strong> $\lambda(n)$ å®šä¹‰ä¸ºæœ€å°çš„æ­£æ•´æ•° $m$ï¼Œä½¿å¾—å¯¹äºæ‰€æœ‰ä¸ $n$ äº’è´¨çš„æ•´æ•° $a$ï¼Œéƒ½æœ‰ï¼š
                $$a^m \equiv 1 \pmod{n}$$
            </p>
            
            <p>
                ç­‰ä»·åœ°ï¼Œ$\lambda(n)$ æ˜¯æ¨¡ $n$ çš„ç®€åŒ–å‰©ä½™ç³»ï¼ˆå³ä¸ $n$ äº’è´¨çš„å‰©ä½™ç±»æ„æˆçš„ä¹˜æ³•ç¾¤ï¼‰çš„<strong>æŒ‡æ•°</strong>ï¼Œ
                å³ä½¿å¾— $a^m \equiv 1 \pmod{n}$ å¯¹æ‰€æœ‰ $\gcd(a, n) = 1$ æˆç«‹çš„æœ€å°æ­£æ•´æ•° $m$ã€‚
            </p>
        </section>

        <section class="properties" 
                 style="background: #f0f8ff; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3>$\lambda(n)$ çš„è®¡ç®—å…¬å¼ï¼š</h3>
            
            <p>
                å¡è¿ˆå…‹å°”å‡½æ•°å¯ä»¥é€šè¿‡ $n$ çš„ç´ å› å­åˆ†è§£è®¡ç®—ï¼š
            </p>
            
            <ol style="line-height: 1.6;">
                <li>
                    å¯¹äºå¥‡ç´ æ•°å¹‚ $p^k$ï¼ˆ$k \geq 1$ï¼‰ï¼š
                    $$\lambda(p^k) = 
                    \begin{cases}
                    \varphi(p^k) = p^{k-1}(p-1) & \text{å¦‚æœ } p \geq 3 \text{ æˆ– } k \leq 2 \\
                    2^{k-2} & \text{å¦‚æœ } p = 2 \text{ ä¸” } k \geq 3
                    \end{cases}$$
                    å…¶ä¸­ $\varphi$ æ˜¯æ¬§æ‹‰å‡½æ•°ã€‚
                </li>
                
                <li>
                    å¯¹äº $n = 2^k$ï¼š
                    $$\lambda(2^k) = 
                    \begin{cases}
                    1 & \text{å¦‚æœ } k = 1 \\
                    2 & \text{å¦‚æœ } k = 2 \\
                    2^{k-2} & \text{å¦‚æœ } k \geq 3
                    \end{cases}$$
                </li>
                
                <li>
                    å¯¹äºä¸€èˆ¬çš„ $n = 2^{k_0} p_1^{k_1} p_2^{k_2} \cdots p_r^{k_r}$ï¼ˆ$p_i$ ä¸ºå¥‡ç´ æ•°ï¼‰ï¼š
                    $$\lambda(n) = \operatorname{lcm}\big(\lambda(2^{k_0}), \lambda(p_1^{k_1}), \lambda(p_2^{k_2}), \dots, \lambda(p_r^{k_r})\big)$$
                </li>
            </ol>
            
            <p>
                <strong>é‡è¦æ€§è´¨ï¼š</strong>
                <ul>
                    <li>$\lambda(n) \mid \varphi(n)$ï¼Œä¸”å½“ä¸”ä»…å½“ $n$ æœ‰åŸæ ¹æ—¶ç­‰å·æˆç«‹ã€‚</li>
                    <li>$\lambda(n)$ æ˜¯ä½¿å¾— $a^m \equiv 1 \pmod{n}$ å¯¹æ‰€æœ‰ $\gcd(a,n)=1$ æˆç«‹çš„ $m$ çš„æœ€å°å€¼ã€‚</li>
                    <li>å¯¹äºä»»æ„ä¸ $n$ äº’è´¨çš„ $a$ï¼Œ$a^{\lambda(n)} \equiv 1 \pmod{n}$ã€‚</li>
                </ul>
            </p>
        </section>

        <section class="comparison" 
                 style="background: #f9f9f9; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3>å¡è¿ˆå…‹å°”å‡½æ•° $\lambda(n)$ vs æ¬§æ‹‰å‡½æ•° $\varphi(n)$ï¼š</h3>
            
            <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                <thead>
                    <tr style="background: #e0e0e0;">
                        <th style="padding: 8px; border: 1px solid #ccc;">$n$</th>
                        <th style="padding: 8px; border: 1px solid #ccc;">$\varphi(n)$</th>
                        <th style="padding: 8px; border: 1px solid #ccc;">$\lambda(n)$</th>
                        <th style="padding: 8px; border: 1px solid #ccc;">å¤‡æ³¨</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ccc;">1</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">1</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">1</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">å®šä¹‰</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ccc;">2</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">1</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">1</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">$\varphi(2)=1$</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ccc;">3</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">2</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">2</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">æœ‰åŸæ ¹ï¼Œ$\lambda=\varphi$</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ccc;">4</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">2</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">2</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">æœ‰åŸæ ¹3</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ccc;">5</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">4</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">4</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">æœ‰åŸæ ¹</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ccc;">8</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">4</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">2</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">æ— åŸæ ¹ï¼Œ$\lambda=2$</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ccc;">15</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">8</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">4</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">æ— åŸæ ¹</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ccc;">24</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">8</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">2</td>
                        <td style="padding: 8px; border: 1px solid #ccc;">$\lambda(8)=2, \lambda(3)=2$</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="example" 
                 style="background: #f5f5f5; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3>ç¤ºä¾‹ï¼š</h3>
            
            <p>
                <strong>ç¤ºä¾‹1ï¼š</strong> è®¡ç®— $\lambda(15)$ã€‚
            </p>
            
            <p>
                <strong>è§£æ³•ï¼š</strong>
                <ol>
                    <li>$15 = 3 \times 5$</li>
                    <li>$\lambda(3) = \varphi(3) = 2$</li>
                    <li>$\lambda(5) = \varphi(5) = 4$</li>
                    <li>$\lambda(15) = \operatorname{lcm}(2, 4) = 4$</li>
                </ol>
                éªŒè¯ï¼šå¯¹äºæ‰€æœ‰ä¸15äº’è´¨çš„ $a$ï¼ˆå³ $a=1,2,4,7,8,11,13,14$ï¼‰ï¼Œæœ‰ $a^4 \equiv 1 \pmod{15}$ã€‚
            </p>
            
            <p>
                <strong>ç¤ºä¾‹2ï¼š</strong> è®¡ç®— $\lambda(24)$ã€‚
            </p>
            
            <p>
                <strong>è§£æ³•ï¼š</strong>
                <ol>
                    <li>$24 = 2^3 \times 3$</li>
                    <li>$\lambda(2^3) = 2^{3-2} = 2$ï¼ˆå› ä¸º $2^3$ ä¸” $k=3 \geq 3$ï¼‰</li>
                    <li>$\lambda(3) = 2$</li>
                    <li>$\lambda(24) = \operatorname{lcm}(2, 2) = 2$</li>
                </ol>
                éªŒè¯ï¼šä¸24äº’è´¨çš„æ•°æœ‰ $\varphi(24)=8$ ä¸ªï¼š$1,5,7,11,13,17,19,23$ï¼Œç¡®å® $a^2 \equiv 1 \pmod{24}$ å¯¹è¿™äº› $a$ æˆç«‹ã€‚
            </p>
            
            <p>
                <strong>ç¤ºä¾‹3ï¼š</strong> è®¡ç®— $\lambda(100)$ã€‚
            </p>
            
            <p>
                <strong>è§£æ³•ï¼š</strong>
                <ol>
                    <li>$100 = 2^2 \times 5^2$</li>
                    <li>$\lambda(2^2) = 2$ï¼ˆå› ä¸º $k=2$ï¼‰</li>
                    <li>$\lambda(5^2) = \varphi(5^2) = 5^{2-1}(5-1) = 5 \times 4 = 20$</li>
                    <li>$\lambda(100) = \operatorname{lcm}(2, 20) = 20$</li>
                </ol>
                æ³¨æ„ï¼š$\varphi(100) = 40$ï¼Œ$\lambda(100) = 20$ï¼Œ$\lambda(100)$ æ˜¯ $\varphi(100)$ çš„çœŸå› å­ã€‚
            </p>
        </section>

        <section class="code-example" 
                 style="background: #2d2d2d; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3 style="color: #f8f8f2;">ä»£ç ç¤ºä¾‹ (JavaScript)ï¼š</h3>
            
            <pre style="background: #1e1e1e; 
                        color: #f8f8f2; 
                        padding: 15px; 
                        border-radius: 5px; 
                        overflow-x: auto;">
<code>// è®¡ç®—æ¬§æ‹‰å‡½æ•° Ï†(n)
function eulerPhi(n) {
    let result = n;
    let temp = n;
    
    for (let p = 2; p * p <= temp; p++) {
        if (temp % p === 0) {
            while (temp % p === 0) {
                temp /= p;
            }
            result -= result / p;
        }
    }
    
    if (temp > 1) {
        result -= result / temp;
    }
    
    return result;
}

// è®¡ç®—å¡è¿ˆå…‹å°”å‡½æ•° Î»(n)
function carmichaelLambda(n) {
    if (n <= 0) return 0;
    if (n === 1) return 1;
    
    // åˆ†è§£è´¨å› æ•°
    const factors = {};
    let temp = n;
    
    // å¤„ç†å› å­2
    let count2 = 0;
    while (temp % 2 === 0) {
        temp /= 2;
        count2++;
    }
    if (count2 > 0) {
        factors[2] = count2;
    }
    
    // å¤„ç†å¥‡æ•°å› å­
    for (let p = 3; p * p <= temp; p += 2) {
        let count = 0;
        while (temp % p === 0) {
            temp /= p;
            count++;
        }
        if (count > 0) {
            factors[p] = count;
        }
    }
    
    if (temp > 1) {
        factors[temp] = 1;
    }
    
    // è®¡ç®—å„ä¸ªç´ å› å­å¹‚çš„Î»å€¼
    const lambdaValues = [];
    
    for (const [p, k] of Object.entries(factors)) {
        const prime = Number(p);
        const exponent = k;
        
        if (prime === 2) {
            if (exponent === 1) {
                lambdaValues.push(1);
            } else if (exponent === 2) {
                lambdaValues.push(2);
            } else { // exponent >= 3
                lambdaValues.push(Math.pow(2, exponent - 2));
            }
        } else { // å¥‡ç´ æ•°
            if (exponent === 1) {
                lambdaValues.push(prime - 1);
            } else {
                lambdaValues.push(Math.pow(prime, exponent - 1) * (prime - 1));
            }
        }
    }
    
    // è®¡ç®—æœ€å°å…¬å€æ•°
    function lcm(a, b) {
        return (a * b) / gcd(a, b);
    }
    
    function gcd(a, b) {
        return b === 0 ? a : gcd(b, a % b);
    }
    
    let result = 1;
    for (const val of lambdaValues) {
        result = lcm(result, val);
    }
    
    return result;
}

// éªŒè¯å¡è¿ˆå…‹å°”å‡½æ•°çš„æ€§è´¨
function verifyCarmichael(n) {
    const lambdaN = carmichaelLambda(n);
    const phiN = eulerPhi(n);
    
    console.log(`n = ${n}:`);
    console.log(`  Ï†(n) = ${phiN}`);
    console.log(`  Î»(n) = ${lambdaN}`);
    console.log(`  Î»(n) æ•´é™¤ Ï†(n)? ${phiN % lambdaN === 0 ? 'æ˜¯' : 'å¦'}`);
    
    // éªŒè¯å¯¹äºæ‰€æœ‰ä¸näº’è´¨çš„aï¼Œa^Î»(n) â‰¡ 1 mod n
    let allPass = true;
    const coprimeNumbers = [];
    
    for (let a = 1; a < n; a++) {
        if (gcd(a, n) === 1) {
            coprimeNumbers.push(a);
            const modPowResult = modPow(a, lambdaN, n);
            if (modPowResult !== 1) {
                console.log(`  é”™è¯¯: ${a}^${lambdaN} mod ${n} = ${modPowResult} â‰  1`);
                allPass = false;
            }
        }
    }
    
    if (allPass) {
        console.log(`  éªŒè¯é€šè¿‡: æ‰€æœ‰${coprimeNumbers.length}ä¸ªä¸${n}äº’è´¨çš„æ•°éƒ½æ»¡è¶³a^Î»(n) â‰¡ 1 mod n`);
    }
    
    return allPass;
}

// å¿«é€Ÿå¹‚ç®—æ³•
function modPow(base, exp, mod) {
    if (mod === 1) return 0;
    let result = 1n;
    base = BigInt(base) % BigInt(mod);
    let e = BigInt(exp);
    while (e > 0n) {
        if (e % 2n === 1n) {
            result = (result * base) % BigInt(mod);
        }
        e >>= 1n;
        base = (base * base) % BigInt(mod);
    }
    return Number(result);
}

// è¾…åŠ©å‡½æ•°ï¼šæœ€å¤§å…¬çº¦æ•°
function gcd(a, b) {
    return b === 0 ? a : gcd(b, a % b);
}

// ç¤ºä¾‹ä½¿ç”¨
console.log("=== å¡è¿ˆå…‹å°”å‡½æ•°è®¡ç®— ===");

const testNumbers = [1, 2, 3, 4, 5, 8, 15, 24, 100, 561];
for (const n of testNumbers) {
    console.log(`\nn = ${n}:`);
    const lambda = carmichaelLambda(n);
    const phi = eulerPhi(n);
    console.log(`Î»(${n}) = ${lambda}, Ï†(${n}) = ${phi}`);
    console.log(`Î»(${n}) / Ï†(${n}) = ${(lambda/phi).toFixed(3)}`);
}

console.log("\n=== éªŒè¯å¡è¿ˆå…‹å°”å‡½æ•°çš„æ€§è´¨ ===");
verifyCarmichael(15);
verifyCarmichael(24);
verifyCarmichael(100);

// å¡è¿ˆå…‹å°”æ•°ï¼šåˆæ•°næ»¡è¶³å¯¹ä»»æ„ä¸näº’è´¨çš„aï¼Œæœ‰a^{n-1} â‰¡ 1 mod n
console.log("\n=== å¡è¿ˆå…‹å°”æ•°æ£€æµ‹ ===");
function isCarmichaelNumber(n) {
    if (n < 2 || isPrime(n)) return false;
    
    // æ£€æŸ¥æ˜¯å¦å¯¹æ‰€æœ‰ä¸näº’è´¨çš„aï¼Œa^{n-1} â‰¡ 1 mod n
    // å®é™…ä¸Šåªéœ€è¦æ£€æŸ¥a=2,3,5,...åˆ°ä¸€å®šèŒƒå›´
    for (let a = 2; a < n; a++) {
        if (gcd(a, n) === 1) {
            if (modPow(a, n - 1, n) !== 1) {
                return false;
            }
        }
    }
    
    return true;
}

function isPrime(num) {
    if (num < 2) return false;
    if (num % 2 === 0) return num === 2;
    const limit = Math.sqrt(num);
    for (let i = 3; i <= limit; i += 2) {
        if (num % i === 0) return false;
    }
    return true;
}

// å·²çŸ¥çš„å¡è¿ˆå…‹å°”æ•°
const knownCarmichael = [561, 1105, 1729, 2465, 2821, 6601, 8911];
console.log("å·²çŸ¥å¡è¿ˆå…‹å°”æ•°æ£€æµ‹:");
for (const n of knownCarmichael) {
    const isCarmichael = isCarmichaelNumber(n);
    console.log(`${n}: ${isCarmichael ? 'æ˜¯å¡è¿ˆå…‹å°”æ•°' : 'ä¸æ˜¯å¡è¿ˆå…‹å°”æ•°'}`);
}</code>
            </pre>
        </section>

        <section class="applications" 
                 style="background: #f0f8ff; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3>åº”ç”¨ä¸æ„ä¹‰ï¼š</h3>
            
            <ol style="line-height: 1.6;">
                <li>
                    <strong>RSAåŠ å¯†ï¼š</strong>
                    åœ¨RSAåŠ å¯†ä¸­ï¼Œå¡è¿ˆå…‹å°”å‡½æ•° $\lambda(n)$ æœ‰æ—¶è¢«ç”¨æ¥ä»£æ›¿æ¬§æ‹‰å‡½æ•° $\varphi(n)$ è®¡ç®—ç§é’¥ï¼Œ
                    å› ä¸º $\lambda(n)$ é€šå¸¸æ¯” $\varphi(n)$ å°ï¼Œå¯ä»¥åŠ é€Ÿè§£å¯†è¿ç®—ã€‚
                </li>
                
                <li>
                    <strong>åŸæ ¹å­˜åœ¨æ€§ï¼š</strong>
                    æ¨¡ $n$ æœ‰åŸæ ¹å½“ä¸”ä»…å½“ $n$ ä¸º $1,2,4,p^k,2p^k$ï¼ˆ$p$ ä¸ºå¥‡ç´ æ•°ï¼‰ï¼Œ
                    è¿™ç­‰ä»·äº $\lambda(n) = \varphi(n)$ã€‚
                </li>
                
                <li>
                    <strong>å¡è¿ˆå…‹å°”æ•°ï¼š</strong>
                    å¡è¿ˆå…‹å°”æ•°æ˜¯æ»¡è¶³ $a^{n-1} \equiv 1 \pmod{n}$ å¯¹æ‰€æœ‰ $\gcd(a,n)=1$ æˆç«‹çš„åˆæ•° $n$ã€‚
                    è¿™æ˜¯è´¹é©¬ç´ æ€§æµ‹è¯•çš„ä¼ªç´ æ•°æ¥æºã€‚æœ€å°çš„å¡è¿ˆå…‹å°”æ•°æ˜¯ $561$ã€‚
                </li>
                
                <li>
                    <strong>ç¾¤è®ºï¼š</strong>
                    $\lambda(n)$ æ˜¯ä¹˜æ³•ç¾¤ $(\mathbb{Z}/n\mathbb{Z})^\times$ çš„æŒ‡æ•°ã€‚
                </li>
            </ol>
        </section>

        <section class="history" 
                 style="background: #fffde7; 
                        padding: 15px; 
                        margin: 20px 0; 
                        border-left: 3px solid #ffd600;">
            
            <h4>ğŸ“ å†å²èƒŒæ™¯ï¼š</h4>
            <p>
                å¡è¿ˆå…‹å°”å‡½æ•°ä»¥ç¾å›½æ•°å­¦å®¶ç½—ä¼¯ç‰¹Â·å¡è¿ˆå…‹å°”ï¼ˆRobert D. Carmichaelï¼Œ1879-1967ï¼‰å‘½åã€‚
                ä»–åœ¨1910å¹´å¼•å…¥äº†è¿™ä¸ªå‡½æ•°ã€‚
            </p>
            
            <p>
                å¡è¿ˆå…‹å°”æ•°ä¹Ÿä»¥ä»–å‘½åï¼Œä»–åœ¨1912å¹´å‘ç°äº†ç¬¬ä¸€ä¸ªå¡è¿ˆå…‹å°”æ•° $561$ï¼Œ
                å¹¶è¯æ˜äº†å¯¹äºæ¯ä¸ªå¡è¿ˆå…‹å°”æ•° $n$ï¼Œ$n-1$ èƒ½è¢« $\lambda(n)$ æ•´é™¤ã€‚
            </p>
            
            <p>
                å¡è¿ˆå…‹å°”å‡½æ•°åœ¨å¯†ç å­¦ä¸­çš„åº”ç”¨æ˜¯è¿‘å‡ åå¹´æ‰è¢«å¹¿æ³›è®¤è¯†åˆ°çš„ï¼Œ
                ç‰¹åˆ«æ˜¯åœ¨RSAåŠ å¯†ç³»ç»Ÿçš„ä¼˜åŒ–ä¸­ã€‚
            </p>
        </section>
    </div>
</body>
</html>