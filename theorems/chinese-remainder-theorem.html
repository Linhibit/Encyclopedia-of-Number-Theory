<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ä¸­å›½å‰©ä½™å®šç† - æ•°è®ºç™¾ç§‘</title>
    <link rel="stylesheet" href="../style.css">
    
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            }
        };
    </script>
    
    <script 
        id="MathJax-script" 
        async 
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
</head>

<body>
    <div class="article-container" 
         style="max-width: 800px; 
                margin: 40px auto; 
                padding: 20px;">
        
        <nav>
            <a href="../index.html" class="back-home" aria-label="è¿”å›é¦–é¡µ">
                <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
                </svg>
                è¿”å›é¦–é¡µ
            </a>
        </nav>
        
        <header>
            <h1>ä¸­å›½å‰©ä½™å®šç† (Chinese Remainder Theorem, CRT)</h1>
        </header>

        <section class="theorem-box" 
                 style="border-left: 5px solid #d32f2f; 
                        background: #fff8f8; 
                        padding: 20px; 
                        margin: 20px 0;">
            
            <strong>å®šç†å†…å®¹ï¼š</strong>
            <p>
                è®¾ $m_1, m_2, \dots, m_k$ æ˜¯ä¸¤ä¸¤äº’è´¨çš„æ­£æ•´æ•°ï¼Œå³å¯¹äº $i \neq j$ï¼Œæœ‰ $\gcd(m_i, m_j) = 1$ã€‚
            </p>
            
            <p>
                è€ƒè™‘åŒä½™æ–¹ç¨‹ç»„ï¼š
                $$
                \begin{cases}
                x \equiv a_1 \pmod{m_1} \\
                x \equiv a_2 \pmod{m_2} \\
                \quad \vdots \\
                x \equiv a_k \pmod{m_k}
                \end{cases}
                $$
            </p>
            
            <p>
                ä»¤ $M = m_1 m_2 \cdots m_k$ï¼Œ$M_i = \dfrac{M}{m_i}$ï¼ˆå³ $M_i$ æ˜¯é™¤äº† $m_i$ å¤–æ‰€æœ‰æ¨¡æ•°çš„ä¹˜ç§¯ï¼‰ã€‚
            </p>
            
            <p>
                ç”±äº $\gcd(m_i, M_i) = 1$ï¼Œå­˜åœ¨æ•´æ•° $t_i$ æ»¡è¶³ $M_i t_i \equiv 1 \pmod{m_i}$ã€‚
                åˆ™åŸæ–¹ç¨‹ç»„çš„è§£ä¸ºï¼š
                $$x \equiv a_1 M_1 t_1 + a_2 M_2 t_2 + \cdots + a_k M_k t_k \pmod{M}$$
            </p>
            
            <p>
                è¿™ä¸ªè§£åœ¨æ¨¡ $M$ æ„ä¹‰ä¸‹æ˜¯å”¯ä¸€çš„ã€‚
            </p>
        </section>

        <section class="proof">
            <h3>è¯æ˜ç®€è¿°ï¼š</h3>
            
            <p>
                <strong>ç¬¬ä¸€æ­¥ï¼šéªŒè¯æ„é€ çš„è§£æ»¡è¶³æ‰€æœ‰åŒä½™æ–¹ç¨‹</strong><br>
                å¯¹äºä»»æ„ $i$ï¼ˆ$1 \leq i \leq k$ï¼‰ï¼Œè€ƒè™‘ $x$ æ¨¡ $m_i$ï¼š
                $$
                x \equiv \sum_{j=1}^k a_j M_j t_j \pmod{m_i}
                $$
                
                å½“ $j \neq i$ æ—¶ï¼Œ$M_j$ åŒ…å«å› å­ $m_i$ï¼Œæ‰€ä»¥ $M_j \equiv 0 \pmod{m_i}$ã€‚
                å› æ­¤ï¼š
                $$
                x \equiv a_i M_i t_i \pmod{m_i}
                $$
                
                ç”± $t_i$ çš„å®šä¹‰ï¼Œ$M_i t_i \equiv 1 \pmod{m_i}$ï¼Œæ‰€ä»¥ï¼š
                $$
                x \equiv a_i \cdot 1 \equiv a_i \pmod{m_i}
                $$
            </p>
            
            <p>
                <strong>ç¬¬äºŒæ­¥ï¼šè¯æ˜å”¯ä¸€æ€§ï¼ˆæ¨¡ $M$ æ„ä¹‰ä¸‹ï¼‰</strong><br>
                å‡è®¾ $x_1$ å’Œ $x_2$ éƒ½æ˜¯æ–¹ç¨‹ç»„çš„è§£ï¼Œåˆ™å¯¹äºæ¯ä¸ª $i$ï¼Œæœ‰ï¼š
                $$x_1 \equiv a_i \pmod{m_i}, \quad x_2 \equiv a_i \pmod{m_i}$$
                
                å› æ­¤ $x_1 - x_2 \equiv 0 \pmod{m_i}$ï¼Œå³ $m_i \mid (x_1 - x_2)$ã€‚
                ç”±äº $m_1, m_2, \dots, m_k$ ä¸¤ä¸¤äº’è´¨ï¼Œæ ¹æ®ç®—æœ¯åŸºæœ¬å®šç†çš„æ¨è®ºï¼Œ
                æœ‰ $M \mid (x_1 - x_2)$ï¼Œå³ $x_1 \equiv x_2 \pmod{M}$ã€‚
            </p>
            
            <p>
                <strong>ç¬¬ä¸‰æ­¥ï¼šå­˜åœ¨æ€§</strong><br>
                ä¸Šè¿°æ„é€ æ–¹æ³•ç»™å‡ºäº†ä¸€ä¸ªè§£ï¼Œå› æ­¤è§£å­˜åœ¨ã€‚
            </p>
            
            <span style="float:right">$\square$</span>
        </section>

        <section class="example" 
                 style="background: #f9f9f9; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3>ç¤ºä¾‹ï¼šè§£åŒä½™æ–¹ç¨‹ç»„</h3>
            
            <p>
                <strong>é—®é¢˜ï¼š</strong> è§£åŒä½™æ–¹ç¨‹ç»„
                $$
                \begin{cases}
                x \equiv 2 \pmod{3} \\
                x \equiv 3 \pmod{5} \\
                x \equiv 2 \pmod{7}
                \end{cases}
                $$
            </p>
            
            <p>
                <strong>è§£æ³•ï¼š</strong>
            </p>
            
            <ol style="line-height: 1.6;">
                <li>$m_1 = 3, m_2 = 5, m_3 = 7$ï¼Œä¸¤ä¸¤äº’è´¨ã€‚</li>
                <li>$M = 3 \times 5 \times 7 = 105$</li>
                <li>$M_1 = 105 / 3 = 35$ï¼Œ$M_2 = 105 / 5 = 21$ï¼Œ$M_3 = 105 / 7 = 15$</li>
                <li>
                    æ±‚é€†å…ƒï¼š
                    <ul>
                        <li>$35 t_1 \equiv 1 \pmod{3}$ â†’ $35 \equiv 2 \pmod{3}$ï¼Œæ‰€ä»¥ $2t_1 \equiv 1 \pmod{3}$ï¼Œå¾— $t_1 = 2$</li>
                        <li>$21 t_2 \equiv 1 \pmod{5}$ â†’ $21 \equiv 1 \pmod{5}$ï¼Œæ‰€ä»¥ $t_2 = 1$</li>
                        <li>$15 t_3 \equiv 1 \pmod{7}$ â†’ $15 \equiv 1 \pmod{7}$ï¼Œæ‰€ä»¥ $t_3 = 1$</li>
                    </ul>
                </li>
                <li>
                    æ„é€ è§£ï¼š
                    $$
                    \begin{aligned}
                    x &\equiv a_1 M_1 t_1 + a_2 M_2 t_2 + a_3 M_3 t_3 \pmod{105} \\
                      &\equiv 2 \times 35 \times 2 + 3 \times 21 \times 1 + 2 \times 15 \times 1 \pmod{105} \\
                      &\equiv 140 + 63 + 30 \pmod{105} \\
                      &\equiv 233 \pmod{105} \\
                      &\equiv 23 \pmod{105}
                    \end{aligned}
                    $$
                </li>
            </ol>
            
            <p>
                éªŒè¯ï¼š
                <ul>
                    <li>$23 \div 3 = 7 \cdots 2$ï¼Œæ‰€ä»¥ $23 \equiv 2 \pmod{3}$</li>
                    <li>$23 \div 5 = 4 \cdots 3$ï¼Œæ‰€ä»¥ $23 \equiv 3 \pmod{5}$</li>
                    <li>$23 \div 7 = 3 \cdots 2$ï¼Œæ‰€ä»¥ $23 \equiv 2 \pmod{7}$</li>
                </ul>
                ç¬¦åˆæ‰€æœ‰æ–¹ç¨‹ã€‚
            </p>
        </section>

        <section class="code-example" 
                 style="background: #f5f5f5; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3>ä»£ç ç¤ºä¾‹ (JavaScript)ï¼š</h3>
            
            <pre style="background: #2d2d2d; 
                        color: #f8f8f2; 
                        padding: 15px; 
                        border-radius: 5px; 
                        overflow-x: auto;">
<code>// æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•æ±‚é€†å…ƒ
function modInverse(a, m) {
    let [old_r, r] = [a, m];
    let [old_s, s] = [1, 0];
    let [old_t, t] = [0, 1];
    
    while (r !== 0) {
        const quotient = Math.floor(old_r / r);
        [old_r, r] = [r, old_r - quotient * r];
        [old_s, s] = [s, old_s - quotient * s];
        [old_t, t] = [t, old_t - quotient * t];
    }
    
    // ç¡®ä¿é€†å…ƒæ˜¯æ­£æ•°
    return (old_s % m + m) % m;
}

// ä¸­å›½å‰©ä½™å®šç†å®ç°
function chineseRemainderTheorem(congruences) {
    // congruences: [{a: ä½™æ•°, m: æ¨¡æ•°}, ...]
    const n = congruences.length;
    
    // è®¡ç®—M = m1 * m2 * ... * mk
    let M = 1;
    for (const cong of congruences) {
        M *= cong.m;
    }
    
    let solution = 0;
    for (const cong of congruences) {
        const a_i = cong.a;
        const m_i = cong.m;
        const M_i = M / m_i;
        
        // æ±‚M_iåœ¨æ¨¡m_iä¸‹çš„é€†å…ƒ
        const t_i = modInverse(M_i, m_i);
        
        // ç´¯åŠ 
        solution += a_i * M_i * t_i;
    }
    
    // å–æ¨¡Må¾—åˆ°æœ€å°éè´Ÿè§£
    return ((solution % M) + M) % M;
}

// ç¤ºä¾‹ä½¿ç”¨
const congruences = [
    { a: 2, m: 3 },
    { a: 3, m: 5 },
    { a: 2, m: 7 }
];

const result = chineseRemainderTheorem(congruences);
console.log(`è§£ä¸º: x â‰¡ ${result} (mod 105)`);  // è¾“å‡º: è§£ä¸º: x â‰¡ 23 (mod 105)

// éªŒè¯
console.log(`éªŒè¯:`);
for (const cong of congruences) {
    const remainder = result % cong.m;
    console.log(`${result} â‰¡ ${remainder} (mod ${cong.m})ï¼Œè¦æ±‚ ${cong.a}ï¼Œ${remainder === cong.a ? 'âœ“' : 'âœ—'}`);
}

// æ›´å¤æ‚çš„ä¾‹å­
const example2 = [
    { a: 1, m: 2 },
    { a: 2, m: 3 },
    { a: 3, m: 5 },
    { a: 4, m: 7 }
];

console.log(`ç¬¬äºŒä¸ªä¾‹å­è§£ä¸º: ${chineseRemainderTheorem(example2)}`);</code>
            </pre>
            
            <p style="margin-top: 15px;">
                <strong>ç®—æ³•å¤æ‚åº¦ï¼š</strong>
                è®¾æ¨¡æ•°çš„ä¸ªæ•°ä¸º $k$ï¼Œæœ€å¤§æ¨¡æ•°ä¸º $m_{\text{max}}$ï¼Œåˆ™ï¼š
                <ul>
                    <li>æ—¶é—´å¤æ‚åº¦ï¼š$O(k \log m_{\text{max}})$ï¼Œä¸»è¦å¼€é”€åœ¨äºæ±‚é€†å…ƒçš„æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•ã€‚</li>
                    <li>ç©ºé—´å¤æ‚åº¦ï¼š$O(k)$ï¼Œå­˜å‚¨ä¸­é—´è®¡ç®—ç»“æœã€‚</li>
                </ul>
            </p>
        </section>

        <section class="applications" 
                 style="background: #f0f8ff; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3>åº”ç”¨ï¼š</h3>
            
            <ol style="line-height: 1.6;">
                <li>
                    <strong>å¤§æ•´æ•°è¡¨ç¤ºï¼š</strong>
                    ä¸­å›½å‰©ä½™å®šç†å¯å°†å¤§æ•´æ•°è¿ç®—åˆ†è§£ä¸ºå¤šä¸ªå°æ¨¡æ•°ä¸‹çš„è¿ç®—ï¼Œæé«˜è®¡ç®—æ•ˆç‡ã€‚
                </li>
                <li>
                    <strong>å¯†ç å­¦ï¼š</strong>
                    åœ¨RSAå¯†ç ç³»ç»Ÿä¸­ï¼Œä¸­å›½å‰©ä½™å®šç†è¢«ç”¨äºåŠ é€Ÿè§£å¯†è¿‡ç¨‹ã€‚
                </li>
                <li>
                    <strong>è®¡ç®—æœºä»£æ•°ï¼š</strong>
                    ç”¨äºå¤šé¡¹å¼æ’å€¼å’Œå¤šé¡¹å¼åŒä½™æ–¹ç¨‹çš„æ±‚è§£ã€‚
                </li>
                <li>
                    <strong>å†æ³•è®¡ç®—ï¼š</strong>
                    å†å²ä¸Šç”¨äºè§£å†³å¤©æ–‡å‘¨æœŸå’Œå†æ³•æ¨ç®—é—®é¢˜ã€‚
                </li>
                <li>
                    <strong>é”™è¯¯æ£€æµ‹ä¸çº æ­£ï¼š</strong>
                    åœ¨ç¼–ç ç†è®ºä¸­ï¼Œåˆ©ç”¨ä¸åŒæ¨¡æ•°çš„åŒä½™å…³ç³»æ£€æµ‹å’Œçº æ­£æ•°æ®ä¼ è¾“ä¸­çš„é”™è¯¯ã€‚
                </li>
            </ol>
        </section>

        <section class="notes" 
                 style="background: #fffde7; 
                        padding: 15px; 
                        margin: 20px 0; 
                        border-left: 3px solid #ffd600;">
            
            <h4>ğŸ“ å†å²èƒŒæ™¯ï¼š</h4>
            <p>
                ä¸­å›½å‰©ä½™å®šç†æœ€æ—©å‡ºç°åœ¨å…¬å…ƒ3-4ä¸–çºªçš„ä¸­å›½æ•°å­¦è‘—ä½œ<strong>ã€Šå­™å­ç®—ç»ã€‹</strong>ä¸­ï¼Œ
                æå‡ºäº†"ç‰©ä¸çŸ¥æ•°"é—®é¢˜ï¼š"ä»Šæœ‰ç‰©ä¸çŸ¥å…¶æ•°ï¼Œä¸‰ä¸‰æ•°ä¹‹å‰©äºŒï¼Œäº”äº”æ•°ä¹‹å‰©ä¸‰ï¼Œä¸ƒä¸ƒæ•°ä¹‹å‰©äºŒï¼Œé—®ç‰©å‡ ä½•ï¼Ÿ"
                è¿™å°±æ˜¯ä¸­å›½å‰©ä½™å®šç†çš„ç»å…¸ä¾‹å­ã€‚
            </p>
            
            <p>
                è¯¥å®šç†åœ¨ç§¦ä¹éŸ¶çš„<strong>ã€Šæ•°ä¹¦ä¹ç« ã€‹</strong>ï¼ˆ1247å¹´ï¼‰ä¸­å¾—åˆ°äº†ç³»ç»ŸåŒ–çš„é˜è¿°ã€‚
                åœ¨æ¬§æ´²ï¼Œç±»ä¼¼çš„ç»“æœç›´åˆ°18ä¸–çºªæ‰ç”±æ¬§æ‹‰å’Œé«˜æ–¯é‡æ–°å‘ç°å¹¶è¯æ˜ã€‚
            </p>
            
            <p>
                <strong>æ³¨æ„ï¼š</strong>
                å®šç†è¦æ±‚æ¨¡æ•°ä¸¤ä¸¤äº’è´¨ã€‚å½“æ¨¡æ•°ä¸äº’è´¨æ—¶ï¼Œæ–¹ç¨‹ç»„å¯èƒ½æœ‰è§£ä¹Ÿå¯èƒ½æ— è§£ï¼Œ
                éœ€è¦å…ˆå°†æ¨¡æ•°åˆ†è§£ä¸ºäº’è´¨çš„éƒ¨åˆ†æˆ–ä½¿ç”¨å…¶ä»–æ–¹æ³•ã€‚
            </p>
        </section>

        <section class="generalization" 
                 style="background: #f8f0ff; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3>æ¨å¹¿ï¼šæ¨¡æ•°ä¸äº’è´¨çš„æƒ…å†µ</h3>
            
            <p>
                å½“æ¨¡æ•° $m_1, m_2, \dots, m_k$ ä¸ä¸€å®šä¸¤ä¸¤äº’è´¨æ—¶ï¼Œæ–¹ç¨‹ç»„
                $$
                \begin{cases}
                x \equiv a_1 \pmod{m_1} \\
                x \equiv a_2 \pmod{m_2} \\
                \quad \vdots
                \end{cases}
                $$
                æœ‰è§£çš„å……è¦æ¡ä»¶æ˜¯ï¼šå¯¹äºæ‰€æœ‰ $i \neq j$ï¼Œæœ‰
                $$a_i \equiv a_j \pmod{\gcd(m_i, m_j)}$$
            </p>
            
            <p>
                å½“æœ‰è§£æ—¶ï¼Œè§£åœ¨æ¨¡ $\operatorname{lcm}(m_1, m_2, \dots, m_k)$ æ„ä¹‰ä¸‹å”¯ä¸€ã€‚
            </p>
        </section>
    </div>
</body>
</html>