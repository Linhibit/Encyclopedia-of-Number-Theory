<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æ¬§æ‹‰å‡½æ•°å…¬å¼ - æ•°è®ºç™¾ç§‘</title>
    <link rel="stylesheet" href="../style.css">
    
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            }
        };
    </script>
    
    <script 
        id="MathJax-script" 
        async 
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
</head>

<body>
    <div class="article-container" 
         style="max-width: 800px; 
                margin: 40px auto; 
                padding: 20px;">
        
        <nav>
            <a href="../index.html" class="back-home" aria-label="è¿”å›é¦–é¡µ">
                <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
                </svg>
                è¿”å›é¦–é¡µ
            </a>
        </nav>
        
        <header>
            <h1>æ¬§æ‹‰å‡½æ•°å…¬å¼ (Euler's Totient Function Formulas)</h1>
        </header>

        <section class="theorem-box" 
                 style="border-left: 5px solid #d32f2f; 
                        background: #fff8f8; 
                        padding: 20px; 
                        margin: 20px 0;">
            
            <strong>å®šä¹‰ä¸å…¬å¼ï¼š</strong>
            <p>
                <strong>æ¬§æ‹‰å‡½æ•°</strong> $\varphi(n)$ å®šä¹‰ä¸ºå°äº $n$ ä¸”ä¸ $n$ äº’è´¨çš„æ­£æ•´æ•°çš„ä¸ªæ•°ï¼š
                $$\varphi(n) = \#\{k \in \mathbb{N} : 1 \leq k < n, \gcd(k, n) = 1\}$$
            </p>
            
            <p>
                è‹¥ $n$ æœ‰ç´ å› æ•°åˆ†è§£ $n = p_1^{a_1} p_2^{a_2} \cdots p_k^{a_k}$ï¼Œå…¶ä¸­ $p_i$ æ˜¯ä¸åŒçš„ç´ æ•°ï¼Œåˆ™ï¼š
                $$\varphi(n) = n \prod_{i=1}^k \left(1 - \frac{1}{p_i}\right) = n \left(1 - \frac{1}{p_1}\right) \left(1 - \frac{1}{p_2}\right) \cdots \left(1 - \frac{1}{p_k}\right)$$
            </p>
            
            <p>
                ç­‰ä»·å½¢å¼ï¼š
                $$\varphi(n) = \prod_{i=1}^k p_i^{a_i-1}(p_i - 1) = \prod_{i=1}^k \varphi(p_i^{a_i})$$
            </p>
            
            <p>
                <strong>ç‰¹æ®Šå€¼ï¼š</strong>
                <ul>
                    <li>$\varphi(1) = 1$ï¼ˆå®šä¹‰ï¼‰</li>
                    <li>è‹¥ $p$ æ˜¯ç´ æ•°ï¼Œåˆ™ $\varphi(p) = p - 1$</li>
                    <li>è‹¥ $p$ æ˜¯ç´ æ•°ï¼Œ$k \geq 1$ï¼Œåˆ™ $\varphi(p^k) = p^{k-1}(p - 1)$</li>
                    <li>$\varphi(2) = 1$ï¼Œ$\varphi(4) = 2$ï¼Œ$\varphi(2^k) = 2^{k-1}$ï¼ˆ$k \geq 1$ï¼‰</li>
                </ul>
            </p>
        </section>

        <section class="properties" 
                 style="background: #f0f8ff; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3>æ¬§æ‹‰å‡½æ•°çš„æ€§è´¨ï¼š</h3>
            
            <ol style="line-height: 1.6;">
                <li>
                    <strong>ç§¯æ€§å‡½æ•°ï¼š</strong>
                    è‹¥ $\gcd(m, n) = 1$ï¼Œåˆ™ $\varphi(mn) = \varphi(m)\varphi(n)$ã€‚
                </li>
                
                <li>
                    <strong>æ¬§æ‹‰å®šç†ï¼š</strong>
                    è‹¥ $\gcd(a, n) = 1$ï¼Œåˆ™ $a^{\varphi(n)} \equiv 1 \pmod{n}$ã€‚
                </li>
                
                <li>
                    <strong>çº¦æ•°å’Œå…¬å¼ï¼š</strong>
                    $$\sum_{d \mid n} \varphi(d) = n$$
                    ä¾‹å¦‚ï¼Œ$n=12$ï¼Œ$\varphi(1)+\varphi(2)+\varphi(3)+\varphi(4)+\varphi(6)+\varphi(12) = 1+1+2+2+2+4=12$ã€‚
                </li>
                
                <li>
                    <strong>ä¸è«æ¯”ä¹Œæ–¯å‡½æ•°çš„å…³ç³»ï¼š</strong>
                    $$\varphi(n) = \sum_{d \mid n} \mu(d) \frac{n}{d} = n \sum_{d \mid n} \frac{\mu(d)}{d}$$
                </li>
                
                <li>
                    <strong>ç”Ÿæˆå‡½æ•°ï¼š</strong>
                    $$\sum_{n=1}^\infty \frac{\varphi(n)}{n^s} = \frac{\zeta(s-1)}{\zeta(s)} \quad (\text{å¯¹äº } \Re(s) > 2)$$
                    å…¶ä¸­ $\zeta(s)$ æ˜¯é»æ›¼Î¶å‡½æ•°ã€‚
                </li>
            </ol>
        </section>

        <section class="example" 
                 style="background: #f9f9f9; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3>ç¤ºä¾‹ï¼š</h3>
            
            <p>
                <strong>ç¤ºä¾‹1ï¼š</strong> è®¡ç®— $\varphi(100)$ã€‚
            </p>
            
            <p>
                <strong>è§£æ³•ï¼š</strong>
                <ol>
                    <li>$100 = 2^2 \times 5^2$</li>
                    <li>$\varphi(100) = 100 \times (1 - \frac{1}{2}) \times (1 - \frac{1}{5}) = 100 \times \frac{1}{2} \times \frac{4}{5} = 100 \times \frac{4}{10} = 40$</li>
                    <li>æˆ–ï¼š$\varphi(100) = \varphi(2^2) \times \varphi(5^2) = (2^{2-1}(2-1)) \times (5^{2-1}(5-1)) = 2 \times 20 = 40$</li>
                </ol>
                å°äº100ä¸”ä¸100äº’è´¨çš„æ•°æœ‰40ä¸ªã€‚
            </p>
            
            <p>
                <strong>ç¤ºä¾‹2ï¼š</strong> è®¡ç®— $\varphi(360)$ã€‚
            </p>
            
            <p>
                <strong>è§£æ³•ï¼š</strong>
                <ol>
                    <li>$360 = 2^3 \times 3^2 \times 5$</li>
                    <li>$\varphi(360) = 360 \times (1 - \frac{1}{2}) \times (1 - \frac{1}{3}) \times (1 - \frac{1}{5}) = 360 \times \frac{1}{2} \times \frac{2}{3} \times \frac{4}{5} = 360 \times \frac{8}{30} = 96$</li>
                </ol>
            </p>
            
            <p>
                <strong>ç¤ºä¾‹3ï¼š</strong> éªŒè¯çº¦æ•°å’Œå…¬å¼ $\sum_{d|12} \varphi(d) = 12$ã€‚
            </p>
            
            <p>
                <strong>è§£æ³•ï¼š</strong>
                12çš„æ­£çº¦æ•°æœ‰ $1,2,3,4,6,12$ã€‚
                <ul>
                    <li>$\varphi(1) = 1$</li>
                    <li>$\varphi(2) = 1$</li>
                    <li>$\varphi(3) = 2$</li>
                    <li>$\varphi(4) = 2$</li>
                    <li>$\varphi(6) = 2$</li>
                    <li>$\varphi(12) = 4$</li>
                </ul>
                æ€»å’Œï¼š$1+1+2+2+2+4 = 12$ï¼Œç¬¦åˆå…¬å¼ã€‚
            </p>
        </section>

        <section class="code-example" 
                 style="background: #2d2d2d; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3 style="color: #f8f8f2;">ä»£ç ç¤ºä¾‹ (JavaScript)ï¼š</h3>
            
            <pre style="background: #1e1e1e; 
                        color: #f8f8f2; 
                        padding: 15px; 
                        border-radius: 5px; 
                        overflow-x: auto;">
<code>// æ–¹æ³•1ï¼šç›´æ¥ä½¿ç”¨å…¬å¼è®¡ç®— Ï†(n)
function eulerPhiFormula(n) {
    if (n <= 0) return 0;
    if (n === 1) return 1;
    
    let result = n;
    let temp = n;
    
    // å¤„ç†å› å­2
    if (temp % 2 === 0) {
        result -= result / 2;
        while (temp % 2 === 0) {
            temp /= 2;
        }
    }
    
    // å¤„ç†å¥‡æ•°å› å­
    for (let p = 3; p * p <= temp; p += 2) {
        if (temp % p === 0) {
            result -= result / p;
            while (temp % p === 0) {
                temp /= p;
            }
        }
    }
    
    // å¤„ç†å‰©ä½™çš„è´¨å› å­ï¼ˆå¤§äºsqrt(n)ï¼‰
    if (temp > 1) {
        result -= result / temp;
    }
    
    return result;
}

// æ–¹æ³•2ï¼šä½¿ç”¨è´¨å› æ•°åˆ†è§£
function eulerPhiFactorization(n) {
    if (n <= 0) return 0;
    if (n === 1) return 1;
    
    // è´¨å› æ•°åˆ†è§£
    const factors = {};
    let temp = n;
    
    while (temp % 2 === 0) {
        factors[2] = (factors[2] || 0) + 1;
        temp /= 2;
    }
    
    for (let i = 3; i * i <= temp; i += 2) {
        while (temp % i === 0) {
            factors[i] = (factors[i] || 0) + 1;
            temp /= i;
        }
    }
    
    if (temp > 1) {
        factors[temp] = (factors[temp] || 0) + 1;
    }
    
    // åº”ç”¨å…¬å¼ï¼šÏ†(n) = n âˆ (1 - 1/p)
    let result = n;
    for (const p of Object.keys(factors)) {
        result *= (1 - 1 / Number(p));
    }
    
    return Math.round(result); // ç”±äºæµ®ç‚¹è¿ç®—ï¼Œéœ€è¦å››èˆäº”å…¥
}

// æ–¹æ³•3ï¼šç­›æ³•è®¡ç®—1åˆ°nçš„æ‰€æœ‰Ï†å€¼
function eulerPhiSieve(n) {
    const phi = new Array(n + 1);
    
    // åˆå§‹åŒ–
    for (let i = 0; i <= n; i++) {
        phi[i] = i;
    }
    
    // ç­›æ³•è®¡ç®—
    for (let i = 2; i <= n; i++) {
        if (phi[i] === i) { // iæ˜¯è´¨æ•°
            for (let j = i; j <= n; j += i) {
                phi[j] -= phi[j] / i;
            }
        }
    }
    
    return phi;
}

// éªŒè¯çº¦æ•°å’Œå…¬å¼
function verifySumFormula(limit) {
    console.log("éªŒè¯ âˆ‘_{d|n} Ï†(d) = n:");
    
    for (let n = 1; n <= limit; n++) {
        let sum = 0;
        
        // æ‰¾å‡ºæ‰€æœ‰çº¦æ•°
        for (let d = 1; d * d <= n; d++) {
            if (n % d === 0) {
                sum += eulerPhiFormula(d);
                if (d !== n / d) {
                    sum += eulerPhiFormula(n / d);
                }
            }
        }
        
        if (sum !== n) {
            console.log(`é”™è¯¯ï¼šn=${n}ï¼Œâˆ‘Ï†(d)=${sum} â‰  ${n}`);
            return false;
        }
    }
    
    console.log(`æ‰€æœ‰ 1 åˆ° ${limit} çš„æ•´æ•°éƒ½æ»¡è¶³å…¬å¼`);
    return true;
}

// ç¤ºä¾‹ä½¿ç”¨
console.log("=== æ¬§æ‹‰å‡½æ•°è®¡ç®— ===");

// è®¡ç®—ä¸€äº›å€¼çš„æ¬§æ‹‰å‡½æ•°
const testNumbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 30, 100, 360];
console.log("n\tÏ†(n)");
for (const n of testNumbers) {
    console.log(`${n}\t${eulerPhiFormula(n)}`);
}

// éªŒè¯ä¸¤ç§æ–¹æ³•çš„ä¸€è‡´æ€§
console.log("\n=== æ–¹æ³•éªŒè¯ ===");
for (let n = 1; n <= 100; n++) {
    const phi1 = eulerPhiFormula(n);
    const phi2 = eulerPhiFactorization(n);
    if (phi1 !== phi2) {
        console.log(`ä¸ä¸€è‡´ï¼šn=${n}ï¼Œå…¬å¼æ³•=${phi1}ï¼Œåˆ†è§£æ³•=${phi2}`);
    }
}
console.log("1åˆ°100éªŒè¯å®Œæˆ");

// éªŒè¯çº¦æ•°å’Œå…¬å¼
console.log("\n=== çº¦æ•°å’Œå…¬å¼éªŒè¯ ===");
verifySumFormula(100);

// ä½¿ç”¨ç­›æ³•è®¡ç®—
console.log("\n=== ç­›æ³•è®¡ç®— Ï†(1) åˆ° Ï†(20) ===");
const phiValues = eulerPhiSieve(20);
for (let i = 1; i <= 20; i++) {
    process.stdout.write(`Ï†(${i})=${phiValues[i]}\t`);
    if (i % 5 === 0) console.log();
}

// æ¬§æ‹‰å®šç†éªŒè¯
console.log("\n=== æ¬§æ‹‰å®šç†éªŒè¯ ===");
function verifyEulerTheorem(a, n) {
    if (gcd(a, n) !== 1) {
        console.log(`a=${a} å’Œ n=${n} ä¸äº’è´¨ï¼Œæ¬§æ‹‰å®šç†ä¸é€‚ç”¨`);
        return;
    }
    
    const phiN = eulerPhiFormula(n);
    const left = modPow(a, phiN, n);
    
    console.log(`éªŒè¯ ${a}^Ï†(${n})=${a}^${phiN} â‰¡ 1 mod ${n}`);
    console.log(`è®¡ç®—ç»“æœ: ${left} ${left === 1 ? 'â‰¡ 1 âœ“' : 'â‰  1 âœ—'}`);
}

function gcd(a, b) {
    return b === 0 ? a : gcd(b, a % b);
}

function modPow(base, exp, mod) {
    if (mod === 1) return 0;
    let result = 1n;
    base = BigInt(base) % BigInt(mod);
    let e = BigInt(exp);
    while (e > 0n) {
        if (e % 2n === 1n) {
            result = (result * base) % BigInt(mod);
        }
        e >>= 1n;
        base = (base * base) % BigInt(mod);
    }
    return Number(result);
}

// éªŒè¯å‡ ä¸ªä¾‹å­
verifyEulerTheorem(3, 7);
verifyEulerTheorem(2, 15);
verifyEulerTheorem(7, 12);</code>
            </pre>
        </section>

        <section class="applications" 
                 style="background: #f0f8ff; 
                        padding: 20px; 
                        margin: 20px 0; 
                        border-radius: 5px;">
            
            <h3>åº”ç”¨ï¼š</h3>
            
            <ol style="line-height: 1.6;">
                <li>
                    <strong>RSAåŠ å¯†ï¼š</strong>
                    æ¬§æ‹‰å‡½æ•°åœ¨RSAå…¬é’¥å¯†ç ç³»ç»Ÿä¸­èµ·ç€æ ¸å¿ƒä½œç”¨ï¼Œç”¨äºè®¡ç®—å¯†é’¥ã€‚
                </li>
                
                <li>
                    <strong>åŸæ ¹åˆ¤å®šï¼š</strong>
                    æ¨¡ $n$ æœ‰åŸæ ¹å½“ä¸”ä»…å½“ $n$ ä¸º $1,2,4,p^k,2p^k$ï¼ˆ$p$ ä¸ºå¥‡ç´ æ•°ï¼‰ï¼Œ
                    ä¸”åŸæ ¹çš„ä¸ªæ•°ä¸º $\varphi(\varphi(n))$ã€‚
                </li>
                
                <li>
                    <strong>åˆ†æ•°åŒ–ç®€ï¼š</strong>
                    åˆ†æ¯ä¸º $n$ çš„æœ€ç®€çœŸåˆ†æ•°çš„ä¸ªæ•°ä¸º $\varphi(n)$ã€‚
                </li>
                
                <li>
                    <strong>æ•°è®ºè¯æ˜ï¼š</strong>
                    è®¸å¤šæ•°è®ºå®šç†çš„è¯æ˜ä¸­ä¼šç”¨åˆ°æ¬§æ‹‰å‡½æ•°ã€‚
                </li>
                
                <li>
                    <strong>ç»„åˆæ•°å­¦ï¼š</strong>
                    è®¡ç®—å¾ªç¯æ’åˆ—æ•°ç­‰é—®é¢˜ã€‚
                </li>
            </ol>
        </section>

        <section class="history" 
                 style="background: #fffde7; 
                        padding: 15px; 
                        margin: 20px 0; 
                        border-left: 3px solid #ffd600;">
            
            <h4>ğŸ“ å†å²èƒŒæ™¯ï¼š</h4>
            <p>
                æ¬§æ‹‰å‡½æ•°ç”±è±æ˜‚å“ˆå¾·Â·æ¬§æ‹‰åœ¨1763å¹´å¼•å…¥ã€‚æ¬§æ‹‰å®šç†æ˜¯è´¹é©¬å°å®šç†çš„æ¨å¹¿ï¼Œ
                è´¹é©¬å°å®šç†ï¼ˆ$a^{p-1} \equiv 1 \pmod{p}$ï¼Œ$p$ ä¸ºç´ æ•°ï¼‰æ˜¯æ¬§æ‹‰å®šç†çš„ç‰¹ä¾‹ã€‚
            </p>
            
            <p>
                æ¬§æ‹‰å‡½æ•°åœ¨æ•°è®ºä¸­æä¸ºé‡è¦ï¼Œå®ƒä¸è®¸å¤šå…¶ä»–æ•°è®ºå‡½æ•°ï¼ˆå¦‚è«æ¯”ä¹Œæ–¯å‡½æ•°ã€é™¤æ•°å‡½æ•°ï¼‰æœ‰å¯†åˆ‡å…³ç³»ã€‚
            </p>
            
            <p>
                å…³äºæ¬§æ‹‰å‡½æ•°çš„ä¸€ä¸ªè‘—åæœªè§£å†³é—®é¢˜æ˜¯<strong>å‹’è®©å¾·çŒœæƒ³</strong>ï¼š
                æ˜¯å¦å­˜åœ¨æ— ç©·å¤šä¸ªæ­£æ•´æ•° $n$ï¼Œä½¿å¾— $\varphi(n)$ æ˜¯å®Œå…¨å¹³æ–¹æ•°ï¼Ÿ
            </p>
        </section>
    </div>
</body>
</html>